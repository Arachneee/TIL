> [!NOTE]
> 저의 생각을 먼저 말씀 드리면 저는 가능한 연관관계를 맺지 않는 것을 좋아합니다.
> 
> jpa 라는 특별한 라이브러리에 도메인 기능이 종속적이게 되는 것에 불편한 경험이 많기 때문입니다.  
> 애플리케이션의 요구사항은 예상치 못한 방향으로 변경되기도 하는데 기존 정책을 뒤집어야 하는 경우도 있습니다. 이러한 경우 jpa의 특정 영속성 컨텍스트를 이용하는 기능을 사용했다가 변경에 어려움을 겪은적이 있습니다.
> 
> 그렇다면 절대 사용하지 않느냐? 라고 묻는다면 그렇지는 않습니다.
> 
> 명백히 생명주기가 일치하는 케이스라면 사용하기도 합니다.
> 
> 조금 더 풀어서 말하면 생성되는 시기와 제거되는 시기가 언제나 동일하다면 연관관계로(OneToMany) 묶어서 사용하곤 합니다.
> 
> 이러한 경우라면 cascade와 같은 속성을 사용해도 크게 이질감 없이 사용할 수 있기 때문입니다.
> 
> 위 말씀을 토대로 다시 정리해보자면, 저는 jpa도 하나의 외부 라이브러리로 바라보고 있기 때문에  
> 도메인이 해당 라이브러리에 의존하는것을 그다지 선호하는 편이 아닙니다.
> 
> 도메인은 가능한 POJO하게 작성하는게 좋다고 생각하는 편이라 기회가 있다면 도메인용 객체와 영속성 컨텍스트용 객체 또한 분리하는 편입니다.

---

POJO가 뭘까?
> **진정한 POJO란 객체지향적인 원리에 충실하면서, 환경과 기술에 종속되지 않고**  
**필요에 따라 재활용될 수 있는 방식으로 설계된 오브젝트 feat. 토비

---

안녕하세요 비밥!
백호입니다. 양방향연관관계에대해 더 이야기하고 싶어서 DM드려요.
시간 되실때 답변주셔도 괜찮습니다. 😊

> 명백히 생명주기가 일치하는 케이스라면 사용하기도 합니다.

> 각 테이블이 가지고 있는 데이터의 목적 혹은 생명주기가 달라지면 테이블을 나누는 것이 좋다고 생각하는 편입니다.

질문1. 예약과 예약 대기는 생명주기가 같다고 생각하시나요? 다르다고 생각하시나요?
저는 예약과 예약대기를 한 테이블에 둬도 괜찮다고 생각할 만큼 같다고 생각합니다.
만약 다르다고 생각하신다면 정말 생명주기가 같은 경우가 존재하는지 모르겠습니다. 예시가 있을까요?

>jpa도 하나의 외부 라이브러리로 바라보고 있기 때문에 도메인이 해당 라이브러리에 의존하는것을 그다지 선호하는 편이 아닙니다. 

질문2. 그럼 JPA의 변경감지도 선호하시지 않나요?

> 도메인은 가능한 POJO하게 작성하는게 좋다고 생각하는 편이라 기회가 있다면 도메인용 객체와 영속성 컨텍스트용 객체 또한 분리하는 편입니다.

저도 도메인은 POJO하게 작성하는 것이 좋다고 생각합니다. 그런데 저는 POJO하게 작성하는 것이 레벨1때처럼 도메인이 자신의 역할을 가질 수 있도록 설계하여 도메인을 다른 환경에서 재사용할 수 있게 하는 것이라 생각합니다. 
그래서 현재 구조가 더 POJO 가깝다고 생각합니다. 오히려 JPA의 영속성전이, 변경감지 등의 기능이 도메인을 POJO로 작성할 수 있게 도와주는 것이라고 생각합니다.
JPA의 기능을 활용하지 않으면 Service에서 비지니스 로직을 Repository와의 순차적인 소통으로 표현해야합니다. 이러한 방식을 트랜잭션 스크립트 패턴이라고 하더라고요.
저는 JPA기능을 활용하여 스크립트 패턴으로 표현된 로직을 도메인 모델 패턴으로 바꾸는 것이 더 객체지향적인 설계이고 유지보수에 좋다고 생각합니다.

> jpa 라는 특별한 라이브러리에 도메인 기능이 종속적이게 되는 것에 불편한 경험이 많기 때문입니다. 
> 애플리케이션의 요구사항은 예상치 못한 방향으로 변경되기도 하는데 기존 정책을 뒤집어야 하는 경우도 있습니다.

도메인이 JPA의 기능에 종속된다는 것에는 동의합니다. 하지만 기존 정책을 뒤집어야 하는 경우는 양방향관계 때문만은 아니라고 생각합니다. 오히려 요구사항이 180도 바뀌는 경우가 아니라면 도메인에 도메인 로직이 들어 있는 형태가 되어야 변경하기 더 쉽다고 생각합니다. 

질문3. 그래도 JPA의 기능을 활용하는 것이 더 유지보수에 어렵다고 생각하시나요?

