잠금 : 동시성을 제어하기 위함
트랜잭션 : 정합성을 보장하기 위함

### 트랜잭션
- 트랜잭션은 하나의 쿼리에서도 동작한다. (ex: 여러 컬림 insert 시 하나만 insert 실패해도 롤백된다.)
- 트랜잭션이 활성화돼 있는 프로그램의 범위를 최소화하자
	- 커넥션이 길어지면 여유 커넥션 수가 줄어들고 커넥션을 기다려야하는 상황이 온다.
	- 외부와 통신하는 작업은 트랜잭션 밖에 있는 것이 좋다. 서버와 통신할 수 없는 상황이 오면 웹, DBMS 서버까지 위험해 질 수 있다.
	- 단순 조회는 트랜잭션이 필요없다.
### 잠금
#### 글로벌 락
- 범위 : MySQL 서버 전체
- 테이블이나 데이터베이스가 다르더라도 동일하게 영향
- InnoDB는 트랜잭션을 지원하기 때문에 모든 데이터 변경을 멈출 필요가 없다.(MVCC를 사용하기 때문)
#### 테이블 락
- 묵시적, 명시적 획득
- InnoDB는 레코드 기반의 잠금을 지원하여 테이블 락이 걸리지 않는다.
- 스키마를 변경하는 경우에만 영향을 미친다.
#### 네임드 락
- 명시적 획득
- 특정 문자에 락을 걸 수 있다.
- 잘 사용안한다.
#### 메타데이터 락
- 묵시적 획득
- 데이터베이스 객체의 이름이나 구조를 변경하는 경우 획득하는 락

### InnoDB 스토리지 엔진 잠금



